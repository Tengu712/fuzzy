# []

## General

配列を表す型。
配列ブロックにより生成する。
配列にはいかなる型の値も入れられる。

## Functions

### `!`: `@[]`

改行なしで標準出力する。
返戻値は主語。

```fuzzy
[1 2 3] ! -- [1 2 3]と出力される
```

### `!!`: `@[]`

改行ありで標準出力する。
返戻値は主語。

```fuzzy
[1 2 3] !! -- [1 2 3]
           -- と出力される
```

### `->`: `@['symbol]`

可変変数を定義する。
返戻値は`()`。

```fuzzy
[1 2 3] -> 'arr. -- arrという可変変数が定義される
arr              -- [1 2 3]
```

### `=>`: `@['symbol]`

不変変数を定義する。
返戻値は`()`。

```fuzzy
[4 5 6] => 'nums. -- numsという不変変数が定義される
nums              -- [4 5 6]
```

### `#`: `@[]`

配列の長さを返す。
返戻値の型は`'u32`である。

```fuzzy
[] #      -- 0
[1 2 3] # -- 3
```

### `^`: `@[]`

先頭の要素を返す。
空配列である場合、`()`が返る。

```fuzzy
[] ^           -- ()
[1 2 3] ^      -- 1
['foo "bar"] ^ -- 'foo
```

### `$`: `@[]`

末尾の要素を返す。
空配列である場合、`()`が返る。

```fuzzy
[] $           -- ()
[1 2 3] $      -- 3
['foo "bar"] ^ -- "bar"
```

### `@`: `@['i32]`

指定されたインデックスの要素を返す。
配列外のインデックスを指定した場合、`()`が返る。

```fuzzy
[4 5 6] @ 1   -- 5
[4 5 6] @ -1  -- 6
[4 5 6] @ 100 -- ()
```

### `@@`: `@['i32 '_]`

指定されたインデックスの要素を目的語に置き換える。

```fuzzy
[4 5 6] @@ 1 "hey" -- [4 "hey" 6]
```

### `@<`: `@['i32 '_]`

指定されたインデックスに要素を挿入する。

```fuzzy
['foo "baz"] @< 1 "bar" -- ['foo "bar" "baz"]
```

### `@-`: `@['i32]`

指定されたインデックスの要素を削除する。

```fuzzy
['foo "bar" "baz"] @- 1 -- ['foo "baz"]
```

### `$-`: `@[]`

末尾の要素を削除する。

```fuzzy
['foo "bar" "baz"] $- -- ['foo "bar"]
```

### `$>`: `@['_]`

末尾に要素を追加する。

```fuzzy
['foo "bar"] $> "baz" -- ['foo "bar" "baz"]
```

### `|>`: `@['symbol]`

ユーザ定義型を定義する。
ただし、主語は次の要件を満たす配列でなければならない。

- すべての葉要素の型は`'symbol'`である
- 奇数番目のシンボルはメンバの名を表す
- 奇数番目のシンボルには公開設定の接頭辞`:`か`::`を付す
- 偶数番目の要素はメンバの型を表す
- 偶数番目の要素が配列である場合、関数型を表す

定義されたユーザ定義型はスコープを抜けるまで再定義不可能である。

```fuzzy
[':foo 'i32. '::bar ['i32]] |> 'newtype. -- 'i32であるpublicなメンバfooと
                                         -- @['i32]であるprivateなメンバbarを持つ
                                         -- ユーザ定義型newtypeを定義する
```

### `:`: `@['symbol]`

主語を目的語が示すユーザ定義型にキャストする。
ただし、主語は次の要件を満たす配列でなければならない。

- 奇数番目のシンボルはメンバの名を表す
- 奇数番目のシンボルには公開設定の接頭辞`:`か`::`を付す
- 偶数番目の要素はメンバの値である

```fuzzy
[':foo 12 '::bar {#0 !!} : ['i32]] : 'newtype, -> 'var. -- 型が'newtypeである変数varを定義する
var:foo                                                 -- 12
var:bar @ 1                                             -- barはprivateのためエラー
{ ##::bar @ 1 } : [], -> 'newtype:baz.                  -- newtype上に関数を定義し
var baz.                                                -- barにアクセスする
                                                        -- 1が出力される
```

### `==`: `@['[]]`

主語が目的語と同値かを判定する。

```fuzzy
[1 + 2 "hoge"] == [2 + 1 "hoge"] -- T
[1 + 2 "hoge"] == [1 + 2 "hOge"] -- ()
```

### `!=`: `@['[]]`

主語が目的語と異値かを判定する。

```fuzzy
[1 + 2 "hoge"] != [2 + 1 "hoge"] -- ()
[1 + 2 "hoge"] != [1 + 2 "hOge"] -- T
```
